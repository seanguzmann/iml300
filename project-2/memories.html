<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>the truth about memories</title>
    <link rel="stylesheet" href="style.css">

    <style>
      body {
        background-color: black; 
        color: white;
        margin: 0;
        height: 100vh;
        
        display: flex;
        justify-content: center; 
        align-items: center; 
        padding: 20px; 
        box-sizing: border-box;
      }
      
      .content-wrapper {
          display: flex;
          width: 90%; 
          height: 85vh; 
          gap: 40px; 
          align-items: center; 
      }

      .image-column {
          flex: 1; 
          display: flex;
          justify-content: center;
          align-items: center;
          height: 100%;
          position: relative; 
      }

      .text-column {
          flex: 1;
          display: flex;
          flex-direction: column;
          justify-content: center;
          align-items: flex-start; 
          text-align: left;
          height: 100%;
      }

      .polaroid-image { 
        width: 100%; 
        height: 80%;
        object-fit: contain; 
        position: absolute; 
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%); 
        opacity: 1; /* start focused */
        transition: opacity 3s ease-in-out; /* smooth transition to blur */
      }

      .polaroid-image.unfocused {
        opacity: 0;
      }
      
      .main-text-line {
          opacity: 0; 
          font-size: 1.5rem; 
          font-weight: 300; 
          letter-spacing: 2px;
          margin-bottom: 4px;
          transition: opacity 1s ease-in;
      }

      .main-text-line:last-of-type {
          margin-bottom: 30px; 
      }

      .buttons {
          opacity: 0;
          transition: opacity 1s ease-in;
          display: flex;
      }

      /* button specific styles for this page (darker text/border) */
      .button {
        color: #555555; /* dark text for light page */
        border: 1px solid #555555; /* darker border */
      }
      .button:hover {
        background-color: #555555;
        color: white !important;
      }
    </style>
</head>
<body>
    
    <div class="content-wrapper">
        <div class="image-column">
            <img src="assets/pola2.png" alt="Focused polaroid photo" class="polaroid-image" id="focusedPolaroid">
            <img src="assets/pola1.png" alt="Unfocused polaroid photo" class="polaroid-image unfocused" id="unfocusedPolaroid">
        </div>

        <div class="text-column">
            <div class="main-text-line" id="textLine1">the truth is:</div>
            <div class="main-text-line" id="textLine2">we are already memories</div>
            
            <div class="buttons" id="final-buttons">
                <a href="quiet.html" class="button">i know.</a>
                <a href="findyou.html" class="button">no we're not!</a>
            </div>
        </div>
    </div>
    
    <script>
        const focusedPolaroid = document.getElementById('focusedPolaroid');
        const unfocusedPolaroid = document.getElementById('unfocusedPolaroid');
        const textLines = [
            document.getElementById('textLine1'),
            document.getElementById('textLine2')
        ];
        const buttons = document.getElementById('final-buttons');

        let currentDelay = 1000; // initial delay before animation starts

        // fade from focused to unfocused image
        setTimeout(() => {
            focusedPolaroid.style.opacity = '0'; // hide focused image
            unfocusedPolaroid.style.opacity = '1'; // reveal unfocused image
        }, currentDelay);

        currentDelay += 3000; // image transition (3 seconds)

        // reveal text line by line
        textLines.forEach((line, index) => {
            setTimeout(() => {
                line.style.opacity = '1';
            }, currentDelay + (index * 1500)); // delay each line by 1.5 seconds
        });

        currentDelay += (textLines.length * 1500); // add time for all text lines

        // reveal buttons
        setTimeout(() => {
            buttons.style.opacity = '1';
        }, currentDelay + 1000); // 1 second after last text line
    </script>

</body>
</html>